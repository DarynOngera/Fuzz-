# Elixir + Rust Fuzzer

This project is a basic bug-finding system, also known as a fuzzer. Its main goal is to automatically test a Rust program by feeding it lots of unexpected or "random" data generated by an Elixir program. This process helps uncover hidden bugs early, making software safer and more reliable.

This project is a great way to learn about:

*   **Fuzzing**: The concept of finding bugs by providing random data to a program.
*   **Elixir**: Functional programming, data generation with `StreamData`, and process management.
*   **Rust**: Safe memory management, performance, and parsing with `nom`.
*   **Inter-process communication**: How to make two programs written in different languages work together.

## How it Works

The fuzzer is composed of two parts:

1.  **The Fuzzer (`elixir_part`)**: An Elixir program that generates random network packets. It uses the `StreamData` library to create a variety of valid and invalid packets. For each generated packet, it writes the data to a file (`fuzz_input.sh`) and then executes the Rust target program, passing the file as an argument.
2.  **The Target (`network_target`)**: A Rust program that simulates a network service. It reads the data from the file provided on the command line and tries to parse it as a network packet.

The fuzzer detects a crash by checking the exit code of the target program. If the exit code is not 0, it means the program crashed, and the fuzzer reports the input that caused the crash.

## How to Run

1.  **Prerequisites**:
    *   Elixir `~> 1.14`
    *   Rust `~> 1.70`
2.  **Run the fuzzer**:
    ```bash
    cd elixir_part
    mix run -e "NetworkFuzzer.run_fuzz(1000)"
    ```
    This command will run the fuzzer with 1000 test cases.

## The Bug

The Rust program has an intentional bug in its packet parsing logic. The `parse_packet` function in `network_target/src/lib.rs` will panic if the `typ` field of the packet is greater than 1. The fuzzer will eventually generate a packet with a `typ` value that triggers this panic, demonstrating a successful fuzzing run.

## Future Improvements

*   **More sophisticated data generation**: The current packet generator is quite simple. It could be improved to generate more complex and realistic packets.
*   **Direct communication**: Instead of using a file to pass data between the fuzzer and the target, we could use a more direct communication channel like TCP sockets. This would be faster and more realistic for a network service.
*   **Continuous mode**: The fuzzer could be extended to run in a continuous loop, constantly generating new test cases and logging the results.
*   **Add fuzzing tests for URL validation**.